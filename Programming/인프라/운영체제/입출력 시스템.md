# 입출력 시스템

컴퓨터는 필수장치인 CPU와 메모리, 주변장치인 입출력장치와 저장장치로 구성되며, 각 장치는 메인보드에 있는 버스로 연결됩니다. 다양한 주변장치는 데이터 전송속도에 따라 저속 주변장치와 고속 주변장치로 구분할 수 있습니다.

- 저속 주변장치: 메모리와 주변장치 사이에 오고 가는 데이터의 양이 적어 데이터 전송률이 낮은 장치를 말합니다. 

- 고속 주변장치: 메모리와 주변장치 사이에 대용량의 데이터가 오고 가므로 데이터 전송률이 높은 장치를 말합니다. 출력장치인 그래픽카드의 경우 모니터에 초당 수십 장의 그래픽을 보여주어야 하기 때문에 고속 주변장치입니다. 하드디스크도 대용량의 데이터를 메모리에 올리거나 메모리에서 하드디스크로 옮겨야 하기 때문에 고속 주변장치입니다.


## 채널

여러 주변장치는 메인보드 내의 버스로 연결됩니다. 그런데 버스에는 많은 종류의 장치가 연결되기 때문에 버스를 1개만 사용하면 병목 현상이 발생합니다. 따라서 여러 개의 버스를 묶어서 사용하는데, 이때 데이터가 지나다니는 하나의 통로를 `채널`이라고 부릅니다.

채널은 도로의 차선이라고 생각하면 됩니다. 4채널 버스는 4개의 주변장치가 동시에 데이터를 주고받을 수 있는 4차선 도로와 같습니다.

채널을 모든 주변장치가 공유하면 속도가 느려집니다. 각각 저마다 데이터 전송속도가 다르기 때문입니다...

이러한 문제를 막기 위해서 여러 채널을 효율적으로 사용하는 방법은 속도가 비슷한 장치끼리 묶는 것입니다. 예를 들어서 빠른 자동차는 1차선을, 화물차는 2차선을, 트랙터는 3차선을 사용하면 도로의 효율을 높일 수 있습니다. 이처럼 전송속도가 비슷한 장치끼리 묶어서 장치별로 채널을 할당하면 전체 데이터 전송속드를 향상시킬 수 있습니다.

## 버퍼링

버퍼는 속도가 다른 두 장치의 속도 차이를 완화하는 역할을 합니다. 과일을 낱개로 옮기는 것보다 여러개를 바구니에 담아 한꺼번에 옮기는 것이 효율적이듯이,
느린 장치를 통해 들어오는 데이터를 버퍼에 모아 한꺼번에 이동하면 효율적입니다. 하드디스크나 CD-ROM등 대부분의 입출력 장치는 버퍼를 사용하여 느린 속도를 보완합니다.

주변장치뿐 아니라 커널에서도 버퍼를 사용합니다. 커널이 입출력 장치로 보내야 할 데이터를 버퍼에 담아놓으면 입출력 제어기가 커널 버퍼에서 입출력장치로 데이터를 
보냅니다.

커널이 버퍼를 사용하면 입출력 작업이 완료되기 전에 다른 작업을 할 수 있어 시스템 성능이 좋아집니다. 스풀러를 사용하는 프린터의 경우도 마찬가지 입니다.
응용 프로그램은 스풀러가 없으면 출력이 완료될 때까지 다른 작업을 못하지만, 스풀러를 사용하면 출력할 데이터를 스풀러로 보낸 후 바로 다음 작업을 할 수 있습니다.

## 파일 시스템

컴퓨터 시스템에는 다양한 종류의 파일이 있으며 이러한 파일은 하드디스크나 CD 같은 제2 저장장치에 보관됩니다. 보관 과정에서 사용자가 직접 개입하면 다른 사용자의 파일을 훼손하거나 저장장치 내부를 어지럽혀 문제를 일으킬 수 있습니다.

운영체제는 이를 막기위해 사용자가 직접 파일을 보관하거나 접근하지 못하도록 하고 있습니다. 대신 파일을 보관하고 관리하는 파일관리자를 두어 저장장치의 전체 관리를 맡기는데 이를 파일 시스템이라고 합니다. 파일 시스템에서 파일 관리자는 사용자의 요청에 따라 파일을 저장하거나 파일의 내용을 읽어옵니다.

가상 메모리에서 메모리 관리자가 매핑 테이블을 사용하여 가상 주소를 물리 주소로 변환하는 것과 마찬가지로 저장장치에서는 파일 관리자가 파일 테이블을 사용하여 파일을 관리합니다. 파일 관리자는 파일 테이블을 사용하여 파일의 생성, 수정, 삭제 등을 수행합니다.

또한 사용자가 파일을 사용하고자 할 때 읽기, 쓰기, 실행과 같은 다양한 접근방법을 제공합니다.

## 파일 시스템의 기능

운영체제는 파일 테이블을 가지고 있습니다. 윈도우의 경우 FAT나 NTFS, 유닉스의 경우 I-node와 같은 파일 테이블을 유지합니다. 파일 테이블의 구성은 운영체제마다 다릅니다. 파일 시스템은 파일을 생성하고, 사용자가 파일을 편리하게 관리할 수 있도록 디렉토리 구조를 제공합니다. 또한 여러 종류의 파일을 구분하기위해 파일이름과 확장자를 만들어 관리합니다. 파일 이름, 파일 크기, 생성 날짜 등 다양한 파일 정보는 파일 헤더에 저장하여 관리합니다.



